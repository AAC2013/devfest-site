{% extends "global.html" %} 
{% block head %} 
{% endblock %} 

{% block document_ready %} 
{% endblock %} 

{% block content %}

<div class="container-fluid">
  <div class="row">
    <div id="title">
      <h1 style="font-size: 25px; float: none; margin-bottom: 10px"> DevFest {{event.city}}!</h1>
    </div>
    <hr class="thin-line">
  </div>

  <div class="row-fluid">
    <div class="span3">
      <div class="row">
        <span style="margin-left: 5px"> <img src="/images/gdgbig.png">
        </span>
      </div>
    </div>

    <div class="span9">
      <div class="row">
        <div id="gdg-container">
            <h1>{% if event.city %}{{ event.city }}{% else %}{{ event.location }}{% endif %}</h1>
            {% if user in event.organizers or is_admin %}
            <a href="/event/edit/{{event.key()}}" class="label label-info">Edit the event</a> 
            {% endif %}
            <a href="/event/{{event.key()}}" class="label label-info">Home</a>
            <a href="#" class="label">Agenda</a>
            <hr>


<table>  
  {% for slot in agenda.slot_list|sort(attribute='slot_key') %}
    {% if slot.sessioncount > 0 %}
       <tr class="slot slot_sessions">
    {% else %}
       <tr class="slot slot_nosessions">
    {% endif %}
       <td>
         {{ slot.start.strftime('%H:%M')}} - {{ slot.end.strftime('%H:%M')}}
       </td>
         
    {% if slot.sessioncount > 0 %}
     {% set sessions_room = agenda.by_slot_room[slot.slot_key] %}
     {% for room in agenda.room_list|sort %}
      {% if room in sessions_room %}
       {% set session = sessions_room[room] %}
       <td>
         {{ session.title }}{% if room != " " %}, {{ room }} {% endif %}
      </td>
      {% else %}
      <td>&nbsp;</td>
      {% endif %}
     {% endfor %}
    {% else %}
      <td colspan="{{ agenda.room_list|length }}">
        {{ slot.name }}
      </td>
    {% endif %}
  	</tr>
  {% endfor %}
 </table>
         
        </div>
      </div>
    </div>
  </div>
</div>
            
{% endblock %}
